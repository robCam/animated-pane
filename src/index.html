<!DOCTYPE html>

<!--
* 
*  The MIT License (MIT)
* 
*  Copyright (c) 2015 Rob Campbell
* 
*  Permission is hereby granted, free of charge, to any person obtaining a copy
*  of this software and associated documentation files (the "Software"), to deal
*  in the Software without restriction, including without limitation the rights
*  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
*  copies of the Software, and to permit persons to whom the Software is
*  furnished to do so, subject to the following conditions:
* 
*  The above copyright notice and this permission notice shall be included in all
*  copies or substantial portions of the Software.
* 
*  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
*  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
*  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
*  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
*  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
*  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
*  SOFTWARE.
*
*-->

<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>animated-pane</title>
    <meta name="author" content="Rob Campbell" />
    <meta name="description" content="pane" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <link rel="manifest" href="manifest.json" />

    <!-- Add to homescreen and theme color for Android Chrome -->
    <meta name="mobile-web-app-capable" content="yes" />
    <meta id="theme-color" name="theme-color" content="#063A38" />

    <!-- Add to homescreen for iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <meta name="apple-mobile-web-app-title" content="animated-pane" />

    <!-- Homescreen touch icons for iOS -->
    <link rel="apple-touch-icon" href="images/launcher-icons/icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="images/launcher-icons/icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="images/launcher-icons/icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="images/launcher-icons/icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="images/launcher-icons/icon-180x180.png" />

    <!--build:css css/style.min.css-->
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <!--/build-->
</head>

<body>
    <div class="wrapper">

        <div class="tray">
            <div class="tray__inner">
                <ul class="tray__inner__pane">
                    <li><img class="icon" src="images/icons/pen.svg" alt="icon"/><span>in progress</span><br/>some explanation to go here</li>
                    <li><img class="icon" src="images/icons/tags.svg" alt="icon"/><span>categories</span><br/>some explanation to go here</li>
                    <li><img class="icon" src="images/icons/camera.svg" alt="icon"/><span>photo gallery</span><br/>some explanation to go here</li>
                    <li><img class="icon" src="images/icons/barchart.svg" alt="icon"/><span>statistics</span><br/>some explanation to go here</li>
                </ul>
            </div>
        </div>

        <div class="play-bttn" role="button"></div>        
    </div>

    <!--build:js js/animated-pane.min.js-->
    <script type="text/javascript" src="js/param.js"></script>
    <!--/build-->

    <script>

    (function (document, RCAM) {
    
        'use strict';
    
        var param = RCAM.param,
            button = document.querySelector('.play-bttn'),
            tray = document.querySelector('.tray'),
            trayInner = tray.querySelector('.tray__inner'),
            trayInnerPane = trayInner.querySelector('.tray__inner__pane'),
            iconList = [].slice.call(trayInnerPane.querySelectorAll('.icon')),
            trayIsActive = false;
    
        function applyRubberBandEffect() {
            if (trayIsActive) {
                iconList.forEach(function(item) {
                    item.classList.add('rubberBand');
                });
            } else {
                iconList.forEach(function(item) {
                    item.classList.remove('rubberBand');
                });
            }
        }
    
        function toggleTray() {
            tray.classList.toggle('tray--active');
            trayInner.classList.toggle('tray__inner--active');
            trayInnerPane.classList.toggle('tray__inner__pane--active');
            trayIsActive = trayIsActive ? false : true;
        }
    
        button.addEventListener(param.pointerEnd, toggleTray, false);
    
        trayInner.addEventListener(param.transitionEnd, applyRubberBandEffect, false);
    
        document.addEventListener('touchmove', function(e) { e.preventDefault(); }, true);
    
        //toggleTray();
    }(this.document, this.RCAM));

    </script>
</body>

</html>

